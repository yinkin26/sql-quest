<!DOCTYPE html>
<html lang="en" class="pixel-art dark-theme">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- 🏷️ The <title> automatically shows up in the browser tab -->
    <title>SQL Quest - CREATE DATABASE</title>

    <!-- 🌈 Base + theme styles (already exist in your project) -->
    <link rel="stylesheet" href="../../stylesheets/style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

    <!-- 🔧 Shared JS helpers -->
    <script src="../../javascripts/loadComponents.js" defer></script>
    <script src="../../javascripts/script.js" defer></script>
    <script src="../../javascripts/lessonTracker.js" defer></script>
</head>
<body class="pixel-art dark-theme">
    <!-- ⭐ Shared header/footer are injected by loadComponents.js -->
    <div id="header"></div>

    <div class="lesson-layout">
        <!-- ========================================================= -->
        <!--  📚 SIDEBAR (loaded dynamically)                        -->
        <!-- ========================================================= -->
        <div id="sidebar"></div>

        <!-- ========================================================= -->
        <!--  📖 MAIN CONTENT AREA                                     -->
        <!-- ========================================================= -->
        <section class="lesson-content">
            <!-- 🏷️ H2 is what the lesson tracker & bookmark use as the title -->
            <h2>🏗️ CREATE DATABASE</h2>

            <!-- 1️⃣ BOOKMARK BUTTONS (optional, works with your existing API) -->
            <div class="bookmark-container">
                <button id="bookmarkBtn" style="display:none;">🔖 Bookmark</button>
                <button id="unbookmarkBtn" style="display:none;">❌ Remove Bookmark</button>
                <span id="bookmarkStatus"></span>
            </div>

            <div class="callout-box">
                <p>🏗️ Ready to build your first database? Let's create the foundation for all your data!</p>
            </div>

            <!-- 2️⃣ WHAT IS …?  -->
            <h3>📌 What is CREATE DATABASE?</h3>
            <p>The <code class="tooltip" title="Creates a new database container">CREATE DATABASE</code> statement is used to create a new SQL database. It establishes a new database container where you can store <strong>tables</strong>, <strong>views</strong>, <strong>indexes</strong>, and other database objects. Think of it as creating a new 🗂️ filing cabinet where you'll organize all your data tables.</p>

            <!-- 3️⃣ BASIC SYNTAX  -->
            <h3>🧠 Basic Syntax</h3>
            <pre><code>CREATE DATABASE <span style="color: #00ffff;">database_name</span>;</code></pre>

            <!-- 4️⃣ EXAMPLE  -->
            <h3>💡 Example</h3>
            <pre><code>-- 🛒 Create a database for an online store
CREATE DATABASE <span style="color: #00ffff;">ecommerce_store</span>;

-- 🎓 Create a database for a school management system
CREATE DATABASE <span style="color: #00ffff;">school_management</span>;</code></pre>



            <!-- 📋 Preview Database List -->
            <h3>📋 Preview Database List</h3>
            <p>👀 This shows existing databases in the system. Use this for reference.</p>
            <button class="neon-button" onclick="viewDatabases()">View Databases</button>
            <div id="databasesOutput" class="query-output" style="margin-top: 10px;"></div>

            <!-- 6️⃣ REAL‑WORLD USE CASE  -->
            <h3>🌍 Real‑World Use Case</h3>
            <p>In real applications, you create databases to separate different projects or environments. For example, you might have separate databases for 🔧 <strong>development</strong>, 🧪 <strong>testing</strong>, and 🚀 <strong>production</strong> environments. E-commerce companies like Amazon often create databases for:</p>
            <pre><code>CREATE DATABASE <span style="color: #00ffff;">customer_data</span>;     -- 👥 User accounts & profiles
CREATE DATABASE <span style="color: #00ffff;">inventory_mgmt</span>;   -- 📦 Product stock & warehouses
CREATE DATABASE <span style="color: #00ffff;">order_processing</span>; -- 🛒 Orders & payments</code></pre>

            <!-- 7️⃣ HELPFUL TIPS  -->
            <h3>💡 Helpful Tips</h3>
            <ul>
                <li>📝 Database names should be <code class="tooltip" title="Use lowercase, underscores, no spaces">descriptive</code> and follow naming conventions (no spaces, use underscores)</li>
                <li>🔍 Check if the database already exists before creating to avoid errors</li>
                <li>🛡️ Consider using <code class="tooltip" title="Prevents errors if database already exists">IF NOT EXISTS</code> clause in some SQL systems for safer database creation</li>
                <li>⚠️ Database names are <strong>case-sensitive</strong> in some database systems</li>
            </ul>

            <!-- 8️⃣ SUMMARY  -->
            <h3>🧠 Summary</h3>
            <ul>
                <li>🏗️ <code>CREATE DATABASE</code> creates a new database container for storing tables and data</li>
                <li>📝 Use <strong>descriptive names</strong> following proper naming conventions</li>
                <li>🎯 Essential <strong>first step</strong> before creating tables and inserting data</li>
                <li>🗂️ Helps organize data into logical separate containers</li>
            </ul>

            <!-- 9️⃣ PRACTICE EXERCISE (optional)  -->
            <h3>🧪 Practice</h3>
            <p>📚 Create a database called <code class="tooltip" title="Use exactly this name for the exercise">"library_system"</code> that could be used for managing books, members, and borrowing records.</p>
            <div class="editor-container">
                <textarea class="code-editor" id="exerciseInput" placeholder="Write your SQL here..."></textarea>
                <button class="neon-button" onclick="validateExercise()">Submit</button>
                <div id="exerciseFeedback" style="margin-top:15px;"></div>
            </div>

            <!-- 🔬 JS validator skeleton for the exercise -->
            <script>
            function validateExercise(){
                const sql = document.getElementById("exerciseInput").value.trim().toLowerCase();
                const feedback = document.getElementById("exerciseFeedback");
                if(sql.includes("create database library_system")){
                    feedback.style.color = "lightgreen";
                    feedback.textContent = "✅ Perfect! You've successfully created the library_system database.";
                }else if(sql.includes("create database")){
                    feedback.style.color = "orange";
                    feedback.textContent = "⚠️ Good use of CREATE DATABASE, but make sure to name it 'library_system'.";
                }else{
                    feedback.style.color = "red";
                    feedback.textContent = "❌ Try using CREATE DATABASE library_system;";
                }
            }
            </script>

            <!-- 🔟 QUIZ (1 MCQ)  -->
            <h3>🎯 Quiz</h3>
            <p><strong>What does CREATE DATABASE do?</strong></p>
            <div class="quiz">
                <button onclick="checkAnswer(this,'A')">A) Deletes a database</button>
                <button onclick="checkAnswer(this,'B')">B) Creates a new database</button>
                <button onclick="checkAnswer(this,'C')">C) Modifies table rows</button>
                <button onclick="checkAnswer(this,'D')">D) Grants user privileges</button>
                <p class="quiz-feedback"></p>
                <div id="quizExplanation" class="quiz-explanation" style="display:none;"></div>
            </div>

            <script>
            function runCreateQuery() {
                const textarea = document.querySelector('.code-editor');
                const output = document.querySelector('.query-output');
                const query = textarea.value.trim().toLowerCase();
                
                if (query.includes('create database')) {
                    const dbName = query.match(/create database\s+(\w+)/)?.[1] || 'unknown_db';
                    output.innerHTML = `<p style='color: lightgreen;'>✅ Database '${dbName}' created successfully!</p><p style='color: #a0a0a0; font-size: 0.9em;'>🎉 Your database is ready for tables and data.</p>`;
                } else {
                    output.innerHTML = `<p style='color: red;'>❌ Invalid query. Try using CREATE DATABASE syntax.</p>`;
                }
            }
            
            function viewDatabases() {
                const output = document.getElementById('databasesOutput');
                const mockDatabases = [
                    { name: 'information_schema', description: '📊 System database' },
                    { name: 'mysql', description: '⚙️ MySQL system database' },
                    { name: 'ecommerce_store', description: '🛒 Online store data' },
                    { name: 'school_management', description: '🎓 Educational system' }
                ];
                
                let html = '<div style="background: rgba(26, 32, 44, 0.8); border: 1px solid #4a5568; border-radius: 8px; padding: 15px; margin-top: 10px;">';
                html += '<h4 style="color: #00ffff; margin-top: 0;">📋 Available Databases</h4>';
                html += '<ul style="list-style: none; padding: 0; margin: 0;">';
                
                mockDatabases.forEach(db => {
                    html += `<li style="color: #e2e8f0; padding: 8px 0; border-bottom: 1px solid #4a5568;"><code style="color: #00ffff;">${db.name}</code> - ${db.description}</li>`;
                });
                
                html += '</ul></div>';
                output.innerHTML = html;
            }
            
            function checkAnswer(btn,opt){
                const fb = btn.parentElement.querySelector('.quiz-feedback');
                const exp = document.getElementById('quizExplanation');
                const buttons = btn.parentElement.querySelectorAll('button');
                
                // Disable all buttons after selection
                buttons.forEach(b => b.disabled = true);
                
                if(opt === 'B'){
                    fb.style.color = 'lightgreen';
                    fb.textContent = '✅ Correct! CREATE DATABASE creates a new database.';
                    btn.style.backgroundColor = '#28a745';
                    exp.innerHTML = `<p><strong>🎯 Explanation:</strong></p><ul><li>🏗️ <code>CREATE DATABASE</code> is the SQL command used to create a new database.</li><li>📦 It establishes a new container where you can store tables, views, and other database objects.</li><li>🎯 This is always the first step before creating tables and adding data.</li></ul>`;
                }else{
                    fb.style.color = 'red';
                    fb.textContent = '❌ Incorrect. The correct answer is B.';
                    btn.style.backgroundColor = '#dc3545';
                    // Highlight correct answer
                    buttons[1].style.backgroundColor = '#28a745';
                    exp.innerHTML = `<p><strong>❌ Explanation:</strong></p><ul><li>🏗️ CREATE DATABASE creates a new database, it doesn't delete, modify, or grant privileges.</li><li>📚 Remember: CREATE = Build something new!</li></ul>`;
                }
                exp.style.display = 'block';
                exp.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
            </script>

        </section>
    </div>

    <div id="footer"></div>
</body>
</html>
